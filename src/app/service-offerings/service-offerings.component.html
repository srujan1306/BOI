<div class="container" (click)="clear_fieldmissing_error()">
  <table>
    <thead>
      <tr class="features_heading">
        <th class="features">Features</th>
        <th>
          <div class="package_headings">
            <h1>GOLD</h1>
            <div class="plan">$100/entity</div>
          </div>
        </th>
        <th>
          <div class="package_headings">
            <h1>DIAMOND</h1>
            <div class="plan">$250/entity</div>
          </div>
        </th>
        <th>
          <div class="package_headings">
            <h1>PLATINUM</h1>
            <div class="plan">$300/entity</div>
          </div>
        </th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td class="features">
          <ul>
            <li>Entry Update</li>
          </ul>
        </td>
        <td>No Update</td>
        <td>Update once</td>
        <td>Unlimited</td>
      </tr>
      <tr>
        <td class="features">
          <ul>
            <li>File report with FinCEN.</li>
          </ul>
        </td>
        <td><div class="check-mark"></div></td>
        <td><div class="check-mark"></div></td>
        <td><div class="check-mark"></div></td>
      </tr>
      <tr>
        <td class="features">
          <ul>
            <li>
              Automated, secure beneficial ownership information collection.
            </li>
          </ul>
        </td>
        <td></td>
        <td><div class="check-mark"></div></td>
        <td><div class="check-mark"></div></td>
      </tr>
      <tr>
        <td class="features">
          <ul>
            <li>Unlimited company and BOI data storage.</li>
          </ul>
        </td>
        <td></td>
        <td><div class="check-mark"></div></td>
        <td><div class="check-mark"></div></td>
      </tr>
      <tr>
        <td class="features">
          <ul>
            <li>Dashboard to manage BOI for all your entities.</li>
          </ul>
        </td>
        <td></td>
        <td><div class="check-mark"></div></td>
        <td><div class="check-mark"></div></td>
      </tr>
      <tr>
        <td class="features">
          <ul>
            <li>Connect beneficial owners to multiple entities.</li>
          </ul>
        </td>
        <td></td>
        <td><div class="check-mark"></div></td>
        <td><div class="check-mark"></div></td>
      </tr>
      <tr>
        <td class="features">
          <ul>
            <li>Unlimited, free Change of Information filings.</li>
          </ul>
        </td>
        <td></td>
        <td><div class="check-mark"></div></td>
        <td><div class="check-mark"></div></td>
      </tr>
      <tr>
        <td class="features">
          <ul>
            <li>Access to BOI Monitoring Services and filing reminders.</li>
          </ul>
        </td>
        <td></td>
        <td></td>
        <td><div class="check-mark"></div></td>
      </tr>
      <tr>
        <td class="features">
          <ul>
            <li>Priority customer support during the filing process.</li>
          </ul>
        </td>
        <td></td>
        <td></td>
        <td><div class="check-mark"></div></td>
      </tr>
      <tr>
        <td class="features">
          <ul>
            <li>Customised Cover Letter.</li>
          </ul>
        </td>
        <td></td>
        <td></td>
        <td><div class="check-mark"></div></td>
      </tr>
      <tr>
        <td class="features">
          <ul>
            <li>Customised Email to Beneficial Owners</li>
          </ul>
        </td>
        <td></td>
        <td></td>
        <td><div class="check-mark"></div></td>
      </tr>
      <tr>
        <td></td>
        <td>
          <button [disabled]="isLoading" (click)="prefill_package('GOLD')">
            Choose
          </button>
        </td>
        <td>
          <button [disabled]="isLoading" (click)="prefill_package('DIAMOND')">
            Choose
          </button>
        </td>
        <td>
          <button [disabled]="isLoading" (click)="prefill_package('PLATINUM')">
            Choose
          </button>
        </td>
      </tr>
    </tbody>
  </table>

  @if(isModalVisible){
  <div class="model_overlay">
    <div class="modal-container">
      <div class="modal-content">
        <span class="close" (click)="closeModal()">&times;</span>
        <form
          [formGroup]="newCustomerForm"
          (ngSubmit)="newCustomer()"
          class="form-container"
        >
          <div class="form-group">
            <label for="name">Name:</label>
            <input id="name" formControlName="fullname" />
          </div>

          <div class="form-group">
            <label for="phone">Phone:</label>
            <input id="phone" formControlName="phone_number" />
          </div>

          <div class="form-group">
            <label for="state">State:</label>
            <select id="state" class="form-select" formControlName="state">
              <option value="" disabled selected>State</option>
              @for(state of usaStates; track $index) {
              <option [value]="state">{{ state }}</option>
              }
            </select>
          </div>

          <div class="form-group">
            <label for="email">Email:</label>
            <input id="email" formControlName="email" />
          </div>

          <div class="form-group">
            <label for="company">Company:</label>
            <input id="company" formControlName="company" />
          </div>
          <div class="form-group">
            <label for="package">Package:</label>
            <input
              id="package"
              formControlName="package"
              [value]="package"
              readonly
            />
          </div>
          <div class="formfill_error_container">
            @if (errorMessage) {
            <div class="custom-error">{{ errorMessage }}</div>
            }
          </div>

          <button [disabled]="isLoading" class="submit_button" type="submit">
            @if(!isLoading){
            <span class="button-text">Submit</span>
            } @if (isLoading) {
            <span class="loader"></span>
            }
          </button>
          @if(showSuccess) {
          <div class="submission_success">
            <p>Your details are submitted successfully!</p>
          </div>
          }
        </form>
      </div>
    </div>
  </div>
  }
</div>
